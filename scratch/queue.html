<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8" />
<script type="text/javascript">
markers = [{"time":"2013-04-15T01:57:32-10:00","emotion":false,"lat":20.593684,"lng":78.96288,"icon":"http://www.gravatar.com/avatar/7bd9c86ea9eabd9437281599166afaff","url":"https://github.com/atanu1991/recommender-system-on-hadoop/commit/3d8797c59b357b16e39bafa39389a487b116be09"},{"time":"2013-04-15T02:02:44-10:00","emotion":false,"lat":20.593684,"lng":78.96288,"icon":"http://www.gravatar.com/avatar/7bd9c86ea9eabd9437281599166afaff","url":"https://github.com/atanu1991/recommender-system-on-hadoop/commit/88b08627be4c13ca3801d802291bc4e67217321c"},{"time":"2013-04-15T02:04:28-10:00","emotion":true,"lat":19.7297222,"lng":-155.09,"icon":"http://assets.github.com/images/icons/emoji/smile.png","url":"https://github.com/zunda/emoticommits"},{"time":"2013-04-15T02:05:25-10:00","emotion":true,"lat":19.7297222,"lng":-155.09,"icon":"http://assets.github.com/images/icons/emoji/smile.png","url":"https://github.com/zunda/emoticommits/compare/master"},{"time":"2013-04-15T02:06:16-10:00","emotion":false,"lat":20.593684,"lng":78.96288,"icon":"http://www.gravatar.com/avatar/7bd9c86ea9eabd9437281599166afaff","url":"https://github.com/atanu1991/recommender-system-on-hadoop/commit/b5c8fbc763ac88c0a5685fefd283ead1d00614bb"},{"time":"2013-04-15T02:08:02-10:00","emotion":false,"lat":19.7297222,"lng":-155.09,"icon":"http://www.gravatar.com/avatar/a57266327b9987be214f5ed7d145dbae","url":"https://github.com/zunda/emoticommits/commit/8ea277605576380efaf23bf23319145504f0e2e9"},{"time":"2013-04-15T02:08:55-10:00","emotion":false,"lat":20.593684,"lng":78.96288,"icon":"http://www.gravatar.com/avatar/7bd9c86ea9eabd9437281599166afaff","url":"https://github.com/atanu1991/recommender-system-on-hadoop/commit/bcb10ce65a606db2c226e138344cecff27b7f2d2"},{"time":"2013-04-15T02:10:26-10:00","emotion":false,"lat":20.593684,"lng":78.96288,"icon":"http://www.gravatar.com/avatar/7bd9c86ea9eabd9437281599166afaff","url":"https://github.com/atanu1991/recommender-system-on-hadoop/commit/5ae16ee5a71c0acf51a81b654e1004e33f7da064"},{"time":"2013-04-15T02:11:20-10:00","emotion":false,"lat":19.7297222,"lng":-155.09,"icon":"http://www.gravatar.com/avatar/a57266327b9987be214f5ed7d145dbae","url":"https://github.com/zunda/emoticommits/commit/920b24f64c2bdc649496f7a2c13bfb139ca56405"},{"time":"2013-04-15T02:11:29-10:00","emotion":false,"lat":20.593684,"lng":78.96288,"icon":"http://www.gravatar.com/avatar/7bd9c86ea9eabd9437281599166afaff","url":"https://github.com/atanu1991/recommender-system-on-hadoop/commit/ad391f501d1d50c09793461db445c9d509cc49f2"},{"time":"2013-04-15T02:11:53-10:00","emotion":false,"lat":19.7297222,"lng":-155.09,"icon":"http://www.gravatar.com/avatar/a57266327b9987be214f5ed7d145dbae","url":"https://github.com/zunda/emoticommits/commit/37acad7095dee9bd291f51ce3342447391830f05"},{"time":"2013-04-15T02:13:40-10:00","emotion":false,"lat":20.593684,"lng":78.96288,"icon":"http://www.gravatar.com/avatar/7bd9c86ea9eabd9437281599166afaff","url":"https://github.com/atanu1991/recommender-system-on-hadoop/commit/da0dc892fbc7106835fb132aa037a28a2f56c1f6"},{"time":"2013-04-15T02:14:05-10:00","emotion":false,"lat":20.593684,"lng":78.96288,"icon":"http://www.gravatar.com/avatar/7bd9c86ea9eabd9437281599166afaff","url":"https://github.com/atanu1991/recommender-system-on-hadoop/commit/53509bf8b6eb4e1b7cd76a3d63a6c3aa5999b1f4"}];

var time_offset;
function updateClocks() {
	var wall_time = new Date();
	var page_time = new Date(wall_time.getTime() + time_offset);
	document.getElementById("wall_clock").innerHTML = wall_time.toLocaleString();
	document.getElementById("page_clock").innerHTML = page_time.toLocaleString();
	deQueue();
};
function initializeClocks() {
	var wall_time_start = new Date();
	var page_time_start = new Date(markers[0].time);
	time_offset = page_time_start.getTime() - wall_time_start.getTime();
	setInterval(function(){updateClocks()}, 1000);
};

function addItem(string) {
	var orig = document.getElementById("items").innerHTML;
	document.getElementById("items").innerHTML = string + orig;
};
function deQueue() {
	var page_time = new Date(new Date().getTime() + time_offset);
	while(new Date(markers[0].time) < page_time) {
		var marker = markers.shift();
		addItem("<li>" + marker.time.toLocaleString());
	};
	document.getElementById("next").innerHTML = markers[0].time.toLocaleString();
};

window.onload = function(){
	initializeClocks();
};
</script>
</head>
<body>
<h1>Queueing test</h1>
<h2>Clocks</h2>
<table border="1">
<tr><th><th>Wall clock<th>Page clock
<tr><th>Current<td id="wall_clock"><td id="page_clock">
</table>
<h2>Next</h2>
<p id="next"></p>
<h2>Queue</h2>
<ul id="items">
</ul>
</body>
</html>
